{"openapi":"3.1.0","info":{"title":"Capital Planning Services","version":"0.1.0"},"paths":{"/health":{"get":{"summary":"Health","description":"Health check endpoint","operationId":"health_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/assets":{"get":{"summary":"Get Assets","description":"Get all assets in a portfolio","operationId":"get_assets_assets_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"portfolio_id","in":"query","required":false,"schema":{"type":"string","default":"default","title":"Portfolio Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Asset"},"title":"Response Get Assets Assets Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/assets/{asset_id}":{"get":{"summary":"Get Asset","description":"Get a single asset by ID","operationId":"get_asset_assets__asset_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"asset_id","in":"path","required":true,"schema":{"type":"string","title":"Asset Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Asset"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/risk/analyze":{"post":{"summary":"Analyze Risk","description":"Analyze risk for given assets","operationId":"analyze_risk_risk_analyze_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RiskAnalysisRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RiskAnalysisResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/investments/optimize":{"post":{"summary":"Optimize Investments","description":"Optimize investment plan","operationId":"optimize_investments_investments_optimize_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/InvestmentOptimizationRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InvestmentOptimizationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}}},"components":{"schemas":{"Asset":{"properties":{"id":{"type":"string","title":"Id"},"name":{"type":"string","title":"Name"},"type":{"type":"string","title":"Type"},"install_date":{"type":"string","title":"Install Date"},"location":{"type":"string","title":"Location"},"condition":{"type":"string","title":"Condition"},"replacement_cost":{"type":"number","title":"Replacement Cost"},"expected_life_years":{"type":"integer","title":"Expected Life Years"},"current_age_years":{"type":"integer","title":"Current Age Years"}},"type":"object","required":["id","name","type","install_date","location","condition","replacement_cost","expected_life_years","current_age_years"],"title":"Asset"},"AssetRisk":{"properties":{"asset_id":{"type":"string","title":"Asset Id"},"probability_of_failure":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Probability Of Failure"},"consequence_score":{"type":"number","maximum":10.0,"minimum":0.0,"title":"Consequence Score"},"risk_score":{"type":"number","maximum":10.0,"minimum":0.0,"title":"Risk Score"},"condition_assessment":{"type":"string","title":"Condition Assessment"}},"type":"object","required":["asset_id","probability_of_failure","consequence_score","risk_score","condition_assessment"],"title":"AssetRisk"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"InvestmentCandidate":{"properties":{"asset_id":{"type":"string","title":"Asset Id"},"intervention_type":{"type":"string","title":"Intervention Type"},"cost":{"type":"number","title":"Cost"},"expected_risk_reduction":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Expected Risk Reduction"}},"type":"object","required":["asset_id","intervention_type","cost","expected_risk_reduction"],"title":"InvestmentCandidate"},"InvestmentOptimizationRequest":{"properties":{"candidates":{"items":{"$ref":"#/components/schemas/InvestmentCandidate"},"type":"array","title":"Candidates"},"budget":{"type":"number","exclusiveMinimum":0.0,"title":"Budget"},"horizon_months":{"type":"integer","maximum":120.0,"minimum":1.0,"title":"Horizon Months"}},"type":"object","required":["candidates","budget","horizon_months"],"title":"InvestmentOptimizationRequest"},"InvestmentOptimizationResponse":{"properties":{"plan_id":{"type":"string","title":"Plan Id"},"total_budget":{"type":"number","title":"Total Budget"},"budget_used":{"type":"number","title":"Budget Used"},"budget_remaining":{"type":"number","title":"Budget Remaining"},"selected_investments":{"items":{"$ref":"#/components/schemas/SelectedInvestment"},"type":"array","title":"Selected Investments"},"total_risk_reduction":{"type":"number","title":"Total Risk Reduction"}},"type":"object","required":["plan_id","total_budget","budget_used","budget_remaining","selected_investments","total_risk_reduction"],"title":"InvestmentOptimizationResponse"},"RiskAnalysisRequest":{"properties":{"asset_ids":{"items":{"type":"string"},"type":"array","title":"Asset Ids","description":"List of asset IDs to analyze"},"horizon_months":{"type":"integer","maximum":120.0,"minimum":1.0,"title":"Horizon Months","description":"Time horizon in months"}},"type":"object","required":["asset_ids","horizon_months"],"title":"RiskAnalysisRequest"},"RiskAnalysisResponse":{"properties":{"analysis_id":{"type":"string","title":"Analysis Id"},"horizon_months":{"type":"integer","title":"Horizon Months"},"risks":{"items":{"$ref":"#/components/schemas/AssetRisk"},"type":"array","title":"Risks"}},"type":"object","required":["analysis_id","horizon_months","risks"],"title":"RiskAnalysisResponse"},"SelectedInvestment":{"properties":{"asset_id":{"type":"string","title":"Asset Id"},"intervention_type":{"type":"string","title":"Intervention Type"},"cost":{"type":"number","title":"Cost"},"expected_risk_reduction":{"type":"number","title":"Expected Risk Reduction"},"priority_rank":{"type":"integer","title":"Priority Rank"}},"type":"object","required":["asset_id","intervention_type","cost","expected_risk_reduction","priority_rank"],"title":"SelectedInvestment"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"HTTPBearer":{"type":"http","scheme":"bearer"}}}}